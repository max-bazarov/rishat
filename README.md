# Тестовое задание для компании "Ришат"
https://rishat.sytes.net/api/items/

## Задание
stripe.com/docs - платёжная система с подробным API и бесплатным тестовым режимом для имитации и тестирования платежей.

С помощью python библиотеки stripe можно удобно создавать платежные формы разных видов, сохранять данные клиента, и реализовывать прочие платежные функции. 

Мы предлагаем вам познакомиться с этой прекрасной платежной системой, реализовав простой сервер с одной html страничкой, который общается со Stripe и создает платёжные формы для товаров. 

## Установка и запуск
1. Склонируйте репозиторий на локальную машину
2. Создайте и активируйте виртуальное окружение:

linux:
```
python3 -m venv venv
```
```
source venv/bin/activate
```

3. Установите зависимости:
```
python3 -m pip install --upgrade pip
```
```
pip3 install -r requirements.txt
```

4. Выполните миграции.
```
python3 manage.py migrate
```

5. Далее нужно зарегистрироваться на https://stripe.com/
Скопировать ключи из личного кабинета и добавить их в .env файл.
```
STRIPE_SECRET_KEY = sk_test_1234
STRIPE_PUB_KEY = pk_test_1234
```

6. Запустите сервер.
```
python3 manage.py runserver
```
***Внимание! Чтобы stripe смог ответить на ваш api, нужно настроить wsgi сервер на https***

## Примеры запросов
1. Получить список товаров
```
GET /api/items/
```

2. Получить страницу с товаром
```
GET /api/items/<id>/
```

3. Получить id сессии stripe для оплаты товара по id
```
GET /api/buy/<id>
```
